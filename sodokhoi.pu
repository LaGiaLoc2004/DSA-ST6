@startuml
' --- CẤU HÌNH ---
skinparam classAttributeIconSize 0
skinparam monochrome true
skinparam linetype ortho 
skinparam packageStyle rectangle
skinparam shadowing false
left to right direction 

' --- KHỐI 1: LÕI STACK ---
package "1.CÀI ĐẶT STACK" {
    class "MyStack<T>" {
        + Push(item)
        + Pop() : T
        + Peek() : T
        + IsEmpty() : bool
        + Count() : int
    }
    
    interface "ITraversable<T>" {
        + Next() : T
    }
    
    "ITraversable<T>" <|.. "ArrayTraversable"
}

' --- KHỐI 2: ỨNG DỤNG ---
package "2. CÁC ỨNG DỤNG CỦA STACK" {
    
    package "Bài toán Tháp Hà Nội" {
        class HanoiUsingStack {
            + SolveIterative(n)
        }
        class Move {
            + From, To, Disk
        }
    }

    package "Thuật toán Cấu trúc dữ liệu" {
        class ThuanToanSapXep {
            + InsertionSort(stack)
            + MergeSort(stack)
        }

        class ThuatToanTimKiem {
            + BFSFinder(dùng 2 Stack)
            + DFSFinder
        }
    }
}

' --- KHỐI 3: ĐÁNH GIÁ HIỆU NĂNG ---
package "3. ĐÁNH GIÁ HIỆU NĂNG" {
    class DataGenerator {
        + TaoStackNgauNhien()
    }

    class Timing {
        + Start()
        + Stop()
        + Result()
    }

    abstract class TimeAnalyzer {
        # Measure()
        # PrintResult()
    }

    class TimeSort {
        + RunAll()
    }
    
    class TimeSearch {
        + Run()
    }
}

' --- QUAN HỆ (VẼ ĐỂ KHÔNG BỊ RỐI) ---

' 1. Stack là trung tâm
"MyStack<T>" <.. HanoiUsingStack
"MyStack<T>" <.. ThuanToanSapXep
"MyStack<T>" <.. ThuatToanTimKiem

' 2. Quan hệ nội bộ ứng dụng
HanoiUsingStack ..> Move

' 3. Quan hệ đo lường (KẾ THỪA & SỬ DỤNG)
TimeAnalyzer <|-- TimeSort : Kế thừa
TimeAnalyzer <|-- TimeSearch : Kế thừa
TimeAnalyzer ..> Timing : Dùng để bấm giờ

DataGenerator ..> "MyStack<T>"
TimeSort ..> ThuanToanSapXep
TimeSearch ..> ThuatToanTimKiem

@enduml
